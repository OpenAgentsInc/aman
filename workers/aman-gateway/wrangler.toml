name = "aman-gateway"
main = "build/index.js"
compatibility_date = "2025-02-14"

[build]
command = "cargo install -q worker-build@^0.7 && worker-build --release"

[vars]
OPENROUTER_API_URL = "https://openrouter.ai/api/v1"
DEFAULT_MODEL = "x-ai/grok-4.1-fast"
SUMMARY_MODEL = "mistral-small"
SYSTEM_PROMPT = "You are Aman, a privacy-focused AI assistant built for high-risk contexts and originally designed for Signal-based chat. Respond clearly and succinctly, prioritize user safety and privacy, and ask clarifying questions when needed."
MEMORY_MAX_CHARS = "1200"
MEMORY_SUMMARIZE_EVERY_TURNS = "6"
ALLOW_ANON = "true"
RATE_LIMIT_MAX = "60"
RATE_LIMIT_WINDOW_SECS = "60"

[[kv_namespaces]]
binding = "AMAN_MEMORY"
id = "6adebd90f76f4598906f1102ee496510"
preview_id = "88a7cb11d3364ff887a5721747abccc6"

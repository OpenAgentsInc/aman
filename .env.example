# =============================================================================
# Aman Bot Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# Signal Configuration
# --------------------
# Phone number for the bot (E.164 format, e.g., +15551234567)
AMAN_NUMBER=+1XXXXXXXXXX

# HTTP bind address for signal-cli daemon
HTTP_ADDR=127.0.0.1:8080

# Optional override for daemon base URL (useful for remote or non-default)
# SIGNAL_DAEMON_URL=http://127.0.0.1:8080

# Optional account selector for multi-account daemon mode
# SIGNAL_DAEMON_ACCOUNT=+15551234567

# Path to signal-cli JAR (defaults to build/signal-cli.jar)
# SIGNAL_CLI_JAR=build/signal-cli.jar

# Maple/OpenSecret AI Configuration
# ---------------------------------
# API URL for Maple/OpenSecret enclave (default: https://enclave.trymaple.ai)
# MAPLE_API_URL=https://enclave.trymaple.ai

# API key for authentication (required for MapleBrain)
MAPLE_API_KEY=your-api-key-here

# Model to use for text messages (default: llama-3.3-70b)
# Available: llama-3.3-70b, gemma-3-27b, deepseek-r1-0528, gpt-oss-120b, qwen3-coder-480b
# MAPLE_MODEL=llama-3.3-70b

# Model to use for messages with images (default: qwen3-vl-30b)
# MAPLE_VISION_MODEL=qwen3-vl-30b

# System prompt to set assistant behavior (overrides prompt file if set)
# MAPLE_SYSTEM_PROMPT=You are a helpful assistant responding via Signal messenger.

# Path to system prompt file (default: SYSTEM_PROMPT.md in current directory)
# The file contents are used as the system prompt if MAPLE_SYSTEM_PROMPT is not set
# MAPLE_PROMPT_FILE=SYSTEM_PROMPT.md

# Maximum tokens for responses (default: 1024)
# MAPLE_MAX_TOKENS=1024

# Temperature for response generation, 0.0-2.0 (default: 0.7)
# MAPLE_TEMPERATURE=0.7

# Maximum conversation history turns per sender (default: 10)
# MAPLE_MAX_HISTORY_TURNS=10

# Maximum memory prompt size (default: 1800 chars)
# MAPLE_MEMORY_PROMPT_MAX_CHARS=1800
# MAPLE_MEMORY_PROMPT_MAX_TOKENS=450

# Database
# --------
SQLITE_PATH=./data/aman.db

# Durable memory tuning (optional)
# AMAN_MEMORY_SUMMARY_MAX_ENTRIES=8
# AMAN_MEMORY_SUMMARY_MAX_ENTRY_CHARS=160
# AMAN_MEMORY_SUMMARY_MAX_CHARS=1200
# AMAN_MEMORY_TOOL_OUTPUT_MAX_CHARS=2000
# AMAN_MEMORY_SUMMARY_TTL_DAYS=30
# AMAN_MEMORY_TOOL_TTL_DAYS=14
# AMAN_MEMORY_CLEAR_TTL_DAYS=30
# AMAN_MEMORY_MAX_SUMMARIES=5000
# AMAN_MEMORY_MAX_TOOL_HISTORY=10000
# AMAN_MEMORY_MAX_TOOL_HISTORY_PER_KEY=200
# AMAN_MEMORY_MAX_CLEAR_EVENTS=5000
# AMAN_MEMORY_COMPACT_INTERVAL_SECS=3600

# Memory prompt policy (optional)
# AMAN_MEMORY_PROMPT_MAX_CHARS=1800
# AMAN_MEMORY_PROMPT_MAX_TOKENS=450
# AMAN_MEMORY_PROMPT_MAX_SUMMARY_CHARS=1000
# AMAN_MEMORY_PROMPT_MAX_TOOL_ENTRIES=3
# AMAN_MEMORY_PROMPT_MAX_TOOL_ENTRY_CHARS=280
# AMAN_MEMORY_PROMPT_MAX_CLEAR_EVENTS=2
# AMAN_MEMORY_PROMPT_INCLUDE_SUMMARY=true
# AMAN_MEMORY_PROMPT_INCLUDE_TOOL_HISTORY=true
# AMAN_MEMORY_PROMPT_INCLUDE_CLEAR_CONTEXT=true
# AMAN_MEMORY_PROMPT_PII_POLICY=allow   # allow, redact, skip
# AMAN_MEMORY_PROMPT_OVERRIDES='{"group:abc":{"include_tool_history":false}}'

# Default language label for new contacts
# AMAN_DEFAULT_LANGUAGE=English

# Aman API (OpenAI-compatible gateway)
# ------------------------------------
# AMAN_API_ADDR=127.0.0.1:8787
# AMAN_API_TOKEN=aman-local
# AMAN_API_MODEL=aman-chat
# AMAN_API_MODE=echo    # echo (default), orchestrator, or openrouter
# AMAN_KB_PATH=./knowledge

# OpenRouter (optional, for AMAN_API_MODE=openrouter)
# ---------------------------------------------------
# OPENROUTER_API_KEY=sk-or-...
# OPENROUTER_API_URL=https://openrouter.ai/api/v1
# OPENROUTER_MODEL=openai/gpt-4o-mini
# OPENROUTER_HTTP_REFERER=https://your-app.example
# OPENROUTER_X_TITLE=Your App Name

# xAI Grok Configuration
# ----------------------
# API key for xAI authentication (required for GrokBrain)
GROK_API_KEY=xai-your-api-key-here

# API URL (default: https://api.x.ai)
# GROK_API_URL=https://api.x.ai

# Model to use (default: grok-4-1-fast)
# Available: grok-4-1-fast, grok-4-fast, grok-4
# GROK_MODEL=grok-4-1-fast

# System prompt for the AI (overrides prompt file if set)
# GROK_SYSTEM_PROMPT=You are a helpful assistant responding via Signal messenger.

# Path to system prompt file (default: SYSTEM_PROMPT.md in current directory)
# The file contents are used as the system prompt if GROK_SYSTEM_PROMPT is not set
# GROK_PROMPT_FILE=SYSTEM_PROMPT.md

# Maximum tokens for responses (default: 1024)
# GROK_MAX_TOKENS=1024

# Temperature for response generation, 0.0-2.0 (default: 0.7)
# GROK_TEMPERATURE=0.7

# Maximum conversation history turns per sender (default: 10)
# GROK_MAX_HISTORY_TURNS=10

# Enable X Search tool for real-time Twitter/X data ($5/invocation)
# GROK_ENABLE_X_SEARCH=false

# Enable Web Search tool for current web information ($5/invocation)
# GROK_ENABLE_WEB_SEARCH=false

# Maximum memory prompt size (default: 1800 chars)
# GROK_MEMORY_PROMPT_MAX_CHARS=1800
# GROK_MEMORY_PROMPT_MAX_TOKENS=450

# Nostr Persistence (Phase 2)
# ----------------------------
# Comma-separated relay URLs
# NOSTR_RELAYS=wss://relay.damus.io
# NOSTR_SECRET_KEY=hex:0000000000000000000000000000000000000000000000000000000000000000
# SQLite path for Nostr indexer
# NOSTR_DB_PATH=./data/nostr.db
# Symmetric key for SecretBox (hex: or base64)
# NOSTR_SECRETBOX_KEY=hex:0000000000000000000000000000000000000000000000000000000000000000

# Proton Mail Bridge (E2E encrypted email)
# ----------------------------------------
# SMTP host for Proton Mail Bridge (default: 127.0.0.1)
# PROTON_SMTP_HOST=127.0.0.1

# SMTP port for Proton Mail Bridge (default: 1025)
# PROTON_SMTP_PORT=1025

# Proton email address (sender)
PROTON_USERNAME=your-email@proton.me

# Bridge-generated password (NOT your Proton account password)
# Find this in Bridge GUI under "Mailbox details"
PROTON_PASSWORD=your-bridge-password-here
